---
glightbox: true
icon: material/help
---

# Service Scanning

Bir makineyi keşfederken ilk olarak yapılacaklar şunlardır:

* İşletim sistemini ve çalışıyor olabilecek mevcut hizmetleri tanımlamak.
* Yanlış yapılandırılmış veya güvenlik açığı bulunan hizmetleri tespit etmek.
* Keşfedilen hizmetler, bazı istenmeyen eylemleri gerçekleştirmek amacıyla kullanılabilir mi?

## Nmap

Herhangi bir ek seçenek belirtmezsek varsayılan olarak yalnızca en yaygın 1000 adet port taranacaktır:

```bash
nmap 10.129.42.253
```

Servis/versiyon tespiti:

```bash
nmap -sV 10.129.42.253
```

Daha ayrıntılı bilgi için varsayılan Nmap script dosyalarını kullan:

```bash
nmap -sC 10.129.42.253
```

Tüm TCP portlarını (65535 adet) tara:

```bash
nmap -p- 10.129.42.253
```

## Attacking Network Services

### Banner Grabbing

Nmap banner script kullanarak port 21 için banner bilgisini öğren:

```bash
nmap -sV --script=banner -p 21 10.10.10.0/24
```

Netcat ile banner bilgisini öğren:

```bash
nc -nv 10.129.42.253 21
```

### Shares

SMB, kullanıcıların ve yöneticilerin çeşitli dosya ve klasörleri paylaşmasına olanak tanır. Çoğu zaman bu paylaşımların içinde parolalar gibi hassas bilgiler içeren dosyalar bulunur. SMB paylaşımları ile etkileşim kurabilmek için `smbclient` isimli araç kullanılabilir:

```bash
smbclient -N -L \\\\10.129.42.253
```

Burada `-N` ile parola sorulması engellendi ve `-L` ile sunucuda hangi hizmetlerin mevcut olduğu görüntülendi. Ayrıca `-N` seçeneği `-L` seçeneğinden önce gelmelidir, yani sıralama önemlidir.

John isimli kullanıcı ile bir bağlantı gerçekleştir. Parola olarak `Welcome1` kullanılacak:

```bash
smbclient -U John \\\\10.129.42.253\\users
```

## Questions

```text
Perform a Nmap scan of the target. What is the version of the service from the Nmap scan running on port 8080?
```

??? tip "Steps"

    ```bash
    nmap -sV -p 8080 10.129.132.165
    ```

```text
Perform an Nmap scan of the target and identify the non-default port that the telnet service is running on.
```

??? tip "Steps"

    Tüm portlar için detaylı bir tarama gerçekleştir:

    ```bash
    nmap -A -p- 10.129.132.165
    ```

    Telnet hizmetinin çalıştığı port numarası istenen cevap olacaktır.

```text
List the SMB shares available on the target host. Connect to the available share as the bob user. Once connected, access the folder called 'flag' and submit the contents of the flag.txt file.
```

??? tip "Steps"

    Hizmetleri listele:

    ```bash
    smbclient -N -L \\\\10.129.157.107
    ```

    Listelenen Share için bir bağlantı gerçekleştir. Parola olarak `Welcome1` kullanılacak:

    ```bash
    smbclient -U bob \\\\10.129.157.107\\users
    ```

    Ardından aşağıdaki komutu çalıştır:

    ```text
    get flag/flag.txt
    ```

    Gerekli dosyayı `get` komutuyla cihaza indirdikten sonra bağlantıyı sonlandır ve indirilen dosyanın içeriğini görüntüle:

    ```bash
    cat flag.txt
    ```
